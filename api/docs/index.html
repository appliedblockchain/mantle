<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Home</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Home</h1>

    



    


    <h3> </h3>










    




    <section>
        <article><h2>Mantle API</h2><p>This package exports various functions that can be used to create <a href="https://koajs.com/">Koa</a> instances or middleware, as well as constant lists of route definitions that can be used with <a href="https://github.com/koajs/joi-router">joi-router</a>.</p>
<p>The main export object takes the following format:</p>
<pre class="prettyprint source"><code>{
  createServer: Function.&lt;Koa>,
  ipfs: {
    createRouter: Function.&lt;joi-router>,
    decorateCtx: Function.&lt;Function>,
    routes: Array.&lt;Object>
  },
  transactions: {
    createRouter: Function.&lt;joi-router>,
    decorateCtx: Function.&lt;Function>,
    routes: Array.&lt;Object>
  }
}</code></pre><p>A brief overview of the available functions/properties:</p>
<ul>
<li><code>createServer</code> will create and start a generic <a href="https://koajs.com/">Koa</a> instance that includes all the routes from the <code>ipfs</code> and <code>transactions</code> routers.</li>
<li><code>ipfs.decorateCtx</code> and <code>transactions.decorateCtx</code> are functions that create <a href="https://koajs.com/">Koa</a> middleware that add properties to the <a href="https://koajs.com/">Koa</a> context; These properties need to be present on the context for their respective routes to function correctly.</li>
<li><code>ipfs.routes</code> and <code>transactions.routes</code> are lists of <a href="https://github.com/koajs/joi-router">joi-router</a> route definitions.</li>
<li><code>ipfs.createRouter</code> and <code>transactions.createRouter</code> will create <a href="https://github.com/koajs/joi-router">joi-router</a>s that use the middleware and routes defined above.</li>
</ul>
<p>If one wishes to make use of the default routes within one's own <a href="https://koajs.com/">Koa</a> application then an easy way to do so is to create all of the available routers and then obtain middleware from them via their <code>middleware</code> functions, i.e.</p>
<pre class="prettyprint source lang-js"><code>const { ipfs, transactions } = require('@appliedblockchain/mantle-api')

const ipfsRouter = ipfs.createRouter()
const transactionsRouter = transactions.createRouter()

// it is recommended to prefix the router paths, but not mandatory
ipfsRouter.prefix('/ipfs')
transactionsRouter.prefix('/transactions')

const app = new Koa()
  .use(ipfsRouter.middleware())
  .use(transactionsRouter.middleware())</code></pre></article>
    </section>






</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-mantle_api.html">mantle/api</a></li><li><a href="module-mantle_api_router.html">mantle/api/router</a></li><li><a href="module-mantle_api_router_routes_ipfs.html">mantle/api/router/routes/ipfs</a></li><li><a href="module-mantle_api_router_routes_transactions.html">mantle/api/router/routes/transactions</a></li><li><a href="module-mantle_api_server.html">mantle/api/server</a></li></ul><h3>Namespaces</h3><ul><li><a href="module-mantle_api_router.ipfs.html">ipfs</a></li><li><a href="module-mantle_api_router.transactions.html">transactions</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> on Tue Nov 06 2018 17:55:56 GMT+0000 (Greenwich Mean Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>